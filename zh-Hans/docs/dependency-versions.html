








<!doctype html>
<html lang="zh-Hans">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:url" content="https://yarnpkg.com/zh-Hans/docs/dependency-versions" />
    <meta property="og:site_name" content="Yarn"/>
    <meta property="og:title" content="Yarn" />
    <meta property="og:image" content="https://yarnpkg.com/assets/og_image.png" />
    <meta property="og:description" content="Fast, reliable, and secure dependency management." />

    <title>依赖的版本 | Yarn</title>
    <meta name="description" content="快速、可靠、安全的依赖管理工具。">

    <link rel="stylesheet" href="/css/main.css?t=2016-10-24T09:50:03+00:00">
    <link rel="canonical" href="https://yarnpkg.com/zh-Hans/docs/dependency-versions">
    <link rel="alternate" type="application/rss+xml" title="Yarn" href="https://yarnpkg.com/feed.xml" />

    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" />
  </head>
  <body>
    








    









<nav class="navbar navbar-static-top navbar-light">
  <div class="container">

    <a  href="/zh-Hans/" >
      <svg class="logo navbar-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1154.8 518">
  <defs>
    <path id="main" d="
      M718.6 257.8c-8 27.6-20.8 47.6-35.2 63.6V181c0-9.6-8.4-17.6-21.6-17.6-5.6 0-10.4 2.8-10.4 6.8 0 2.8 1.6 5.2 1.6 12.8v64.4c-4.8 28-16.8 54-32.8 54-11.6 0-18.4-11.6-18.4-33.2 0-33.6 4.4-51.2 11.6-80.8 1.6-6 13.2-22-6.4-22-21.2 0-18.4 8-21.2 14.8 0 0-13.4 47.6-13.4 90 0 34.8 14.6 57.6 41.4 57.6 17.2 0 29.6-11.6 39.2-27.6V351c-26.4 23.2-49.6 43.6-49.6 84 0 25.6 16 46 38.4 46 20.4 0 41.6-14.8 41.6-56.8V355c21.6-18.8 44.8-42.4 58.4-88.8.4-1.6.4-3.6.4-4 0-7.6-7.6-16.4-14-16.4-4 0-7.2 3.6-9.6 12zm-76.8 198c-6.4 0-10.4-9.6-10.4-22 0-24 8.8-39.2 21.6-52.4v42.8c0 7.6 1.6 31.6-11.2 31.6z
      M833.4 301c-9.6 0-13.6-9.6-13.6-18.4v-66c0-9.6-8.4-17.6-21.6-17.6-5.6 0-10.4 2.8-10.4 6.8 0 2.8 1.6 5.2 1.6 12.8v61.6C785 291.4 777.8 301 767 301c-14 0-22.8-12-22.8-32.8 0-57.6 35.6-83.6 66-83.6 4 0 8 .8 11.6.8 4 0 5.2-2.4 5.2-9.2 0-10.4-7.6-16.8-18.4-16.8-48.8 0-95.2 40.8-95.2 107.6 0 34 16.4 60.4 47.6 60.4 15.2 0 26.4-7.2 34.4-16.4 6 9.6 16.8 16.4 30.8 16.4 34.4 0 50.4-36 57.2-62.4.4-1.6.4-2.4.4-2.8 0-7.6-7.6-16.4-14-16.4-4 0-8 3.6-9.6 12-3.6 17.6-10.8 43.2-26.8 43.2z
      M949 327.4c34.4 0 50-36 57.2-62.4 0-.8.4-1.6.4-2.8 0-7.6-7.6-16.4-14-16.4-4 0-8 3.6-9.6 12-3.6 17.6-10.4 43.2-28.8 43.2-10.8 0-16-10.4-16-21.6 0-40 18-87.2 18-92 1.6-9.2-14.4-22.4-19.2-22.4h-20.8c-4 0-8 0-21.2-1.6-4.4-16.4-15.6-21.2-25.2-21.2-10.4 0-20 7.2-20 18.4 0 11.6 7.2 20 17.2 25.6-.4 20.4-2 53.6-6.4 69.6-3.6 13.6 17.2 28 22.4 11.2 7.2-23.2 9.6-58 10-73.6h34.8c-12.8 34.4-20 62.8-20 88.4 0 35.2 22.4 45.6 41.2 45.6z
      M984.6 309.8c0 14.8 11.2 17.6 19.2 17.6 11.6 0 11.2-9.6 11.2-17.2v-58.4c2.8-31.6 27.6-66 39.2-66 7.6 0 8.4 10.4 8.4 22.8v81.2c0 20.4 12.4 37.6 33.6 37.6 34.4 0 51.4-36 58.2-62.4.4-1.6.4-2.4.4-2.8 0-7.6-7.6-16.4-14-16.4-4 0-8 3.6-9.6 12-3.6 17.6-11.8 43.2-27.8 43.2-10.4 0-10.4-14.8-10.4-18.4v-82.8c0-18.4-6.4-40.4-33.2-40.4-19.6 0-34 17.2-44.8 39.6v-18c0-9.6-8.4-17.6-21.6-17.6-5.6 0-10.4 2.8-10.4 6.8 0 2.8 1.6 5.2 1.6 12.8v126.8z
      M259 0c143 0 259 116 259 259S402 518 259 518 0 402 0 259 116 0 259 0z"/>
  </defs>

  <use class="logo-primary-rave" xlink:href="#main" x="0" y="0" style="fill: url(#rave)"/>
  <use class="logo-primary" xlink:href="#main" x="0" y="0"/>

  <path class="logo-secondary" d="M435.2 337.5c-1.8-14.2-13.8-24-29.2-23.8-23 .3-42.3 12.2-55.1 20.1-5 3.1-9.3 5.4-13 7.1.8-11.6.1-26.8-5.9-43.5-7.3-20-17.1-32.3-24.1-39.4 8.1-11.8 19.2-29 24.4-55.6 4.5-22.7 3.1-58-7.2-77.8-2.1-4-5.6-6.9-10-8.1-1.8-.5-5.2-1.5-11.9.4C293.1 96 289.6 93.8 286.9 92c-5.6-3.6-12.2-4.4-18.4-2.1-8.3 3-15.4 11-22.1 25.2-1 2.1-1.9 4.1-2.7 6.1-12.7.9-32.7 5.5-49.6 23.8-2.1 2.3-6.2 4-10.5 5.6h.1c-8.8 3.1-12.8 10.3-17.7 23.3-6.8 18.2.2 36.1 7.1 47.7-9.4 8.4-21.9 21.8-28.5 37.5-8.2 19.4-9.1 38.4-8.8 48.7-7 7.4-17.8 21.3-19 36.9-1.6 21.8 6.3 36.6 9.8 42 1 1.6 2.1 2.9 3.3 4.2-.4 2.7-.5 5.6.1 8.6 1.3 7 5.7 12.7 12.4 16.3 13.2 7 31.6 10 45.8 2.9 5.1 5.4 14.4 10.6 31.3 10.6h1c4.3 0 58.9-2.9 74.8-6.8 7.1-1.7 12-4.7 15.2-7.4 10.2-3.2 38.4-12.8 65-30 18.8-12.2 25.3-14.8 39.3-18.2 13.6-3.3 22.1-15.7 20.4-29.4zm-23.8 14.7c-16 3.8-24.1 7.3-43.9 20.2-30.9 20-64.7 29.3-64.7 29.3s-2.8 4.2-10.9 6.1c-14 3.4-66.7 6.3-71.5 6.4-12.9.1-20.8-3.3-23-8.6-6.7-16 9.6-23 9.6-23s-3.6-2.2-5.7-4.2c-1.9-1.9-3.9-5.7-4.5-4.3-2.5 6.1-3.8 21-10.5 27.7-9.2 9.3-26.6 6.2-36.9.8-11.3-6 .8-20.1.8-20.1s-6.1 3.6-11-3.8c-4.4-6.8-8.5-18.4-7.4-32.7 1.2-16.3 19.4-32.1 19.4-32.1s-3.2-24.1 7.3-48.8c9.5-22.5 35.1-40.6 35.1-40.6s-21.5-23.8-13.5-45.2c5.2-14 7.3-13.9 9-14.5 6-2.3 11.8-4.8 16.1-9.5 21.5-23.2 48.9-18.8 48.9-18.8s13-39.5 25-31.8c3.7 2.4 17 32 17 32s14.2-8.3 15.8-5.2c8.6 16.7 9.6 48.6 5.8 68-6.4 32-22.4 49.2-28.8 60-1.5 2.5 17.2 10.4 29 43.1 10.9 29.9 1.2 55 2.9 57.8.3.5.4.7.4.7s12.5 1 37.6-14.5c13.4-8.3 29.3-17.6 47.4-17.8 17.5-.3 18.4 20.2 5.2 23.4z"/>

  <linearGradient id="rainbow" x1="0%" y1="0%" x2="100%" y2="0">
    <stop offset="0%"            stop-color="#00ff00"/>
    <stop offset="7.1428571429%" stop-color="#86fa00"/>
    <stop offset="14.285714286%" stop-color="#ffdb00"/>
    <stop offset="21.428571429%" stop-color="#ff8d00"/>
    <stop offset="28.571428572%" stop-color="#ff0001"/>
    <stop offset="35.714285715%" stop-color="#ff0068"/>
    <stop offset="42.857142857%" stop-color="#ff00ce"/>
    <stop offset="50%"           stop-color="#ff00ff"/>
    <stop offset="57.142857143%" stop-color="#ff2eff"/>
    <stop offset="64.285714286%" stop-color="#b437ff"/>
    <stop offset="71.428571429%" stop-color="#616aff"/>
    <stop offset="78.571428572%" stop-color="#00c0ff"/>
    <stop offset="85.714285715%" stop-color="#00d8ff"/>
    <stop offset="92.857142858%" stop-color="#00ffff"/>
    <stop offset="100%"          stop-color="#00ff00"/>
  </linearGradient>

  <pattern id="rave" x="0" y="0" width="100%" height="100%" patternUnits="userSpaceOnUse">
    <rect x="0" y="0" width="2000%" height="100%" fill="url(#rainbow)">
      <animate attributeType="XML" attributeName="x" from="-1900%" to="100%" dur="5s" repeatCount="indefinite"/>
    </rect>
    <rect x="0" y="0" width="2000%" height="100%" fill="url(#rainbow)">
      <animate attributeType="XML" attributeName="x" from="-2800%" to="-1900%" dur="5s" repeatCount="indefinite"/>
    </rect>
  </pattern>
</svg>

      <span class="sr-only">Yarn</span>
    </a>

    <button class="navbar-toggler hidden-lg-up pull-xs-right" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="exCollapsingNavbar2" aria-expanded="false" aria-label="Toggle navigation">
      <!-- &#9776; -->
    </button>

    <div class="collapse navbar-toggleable-md" id="navbar">
      <ul class="nav navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/zh-Hans/docs/getting-started">开始使用</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/zh-Hans/docs">文档</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog">博客</a>
        </li>
        <li class="nav-item algolia-search-wrapper">
          <input id="algolia-doc-search" type="search" placeholder="Search docs..." autofocus="autofocus"/>
        </li>
      </ul>

      <ul class="nav navbar-nav pull-lg-right">
        <li class="nav-item dropdown">
          <a id="dropdownNavLanguage" class="nav-link dropdown-toggle" role="button" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <svg class="language navbar-language" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
  <path d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 0 1 1.229-.799l.082 4.277a2.773 2.773 0 0 1-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 0 0-.196-.145h-1.95a.194.194 0 0 0-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"/>
</svg>

            中文
          </a>
          <div class="dropdown-menu" aria-labelledby="dropdownNavLanguage">
            
              
                <a href="/en/docs/dependency-versions"
                  class="dropdown-item">
                  English
                </a>
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <a href="/zh-Hans/docs/dependency-versions"
                  class="dropdown-item active">
                  中文
                </a>
              
            
              
            
          </div>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://discord.gg/yarnpkg">Discord</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/yarnpkg">Twitter</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/yarnpkg">GitHub</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

    









<div class="hero">
  <div class="container">
    

      <h1 class="hero-text display-4">依赖的版本</h1>
    
  </div>
</div>

<div class="container">
  















  

  

  
    
    
    




<div class="row">
  <div class="col-md-8 guide">
    








    <div class="guide-content">
      <h2 id="a-classtoc-idtoc-semantic-versioning-hreftoc-semantic-versioninga">语义化版本定义 <a class="toc" id="toc-semantic-versioning" href="#toc-semantic-versioning"></a></h2>

<p>Yarn 中的包遵循 语义化版本定义规则, 也称为 <a href="http://semver.org/">Semantic Versioning</a>。 当你从仓库中安装一个新包时，它就会以 ”semver“ 版本范围的格式添加到你的 <code class="highlighter-rouge">package.json</code> 中。</p>

<p>这些版本分为 <code class="highlighter-rouge">major.minor.patch</code> 看起来像：3.14.1, 0.42.0, 2.7.18。版本的每个部分在不同的时间递增：</p>

<ul>
  <li>当您对包的API进行<strong>破坏性</strong>或<strong>不兼容</strong>更改时，增加 <code class="highlighter-rouge">major</code> 版本。</li>
  <li>在添加<strong>新功能</strong>并保持<strong>向后兼容</strong>时，增加 <code class="highlighter-rouge">minor</code> 版本。</li>
  <li>当<strong>修复 Bug</strong> 并保持<strong>向后兼容</strong>时，增加 <code class="highlighter-rouge">patch</code> 版本。</li>
</ul>

<blockquote>
  <p><strong>注意：</strong> 有时候还有一些添加了“标签”或“扩展”名的版本号（例如 2.0.0-beta.3）</p>
</blockquote>

<p>当开发人员谈论两个互相“兼容”的 semver 版本时，他们指的是<strong>向后兼容</strong>的更改（<code class="highlighter-rouge">minor</code> 和 <code class="highlighter-rouge">patch</code>）。</p>

<h2 id="a-classtoc-idtoc-version-ranges-hreftoc-version-rangesa">版本范围 <a class="toc" id="toc-version-ranges" href="#toc-version-ranges"></a></h2>

<p>当你想指定一个依赖关系时，你在 <code class="highlighter-rouge">package.json</code> 中指定依赖的名字和一个<strong>版本范围</strong>，就像下面这样：</p>

<div class="language-json highlighter-rouge"><pre class="rougeHighlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"package-1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;=2.0.0 &lt;3.1.4"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"package-2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^0.4.2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"package-3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~2.7.1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>你会注意到，我们有许多版本范围之间的分隔符，这些字符<code class="highlighter-rouge">&gt;=</code>、<code class="highlighter-rouge">&lt;</code>、<code class="highlighter-rouge">^</code>和<code class="highlighter-rouge">~</code>，是<strong>运算符</strong>它们用于指定<strong>版本范围</strong>。</p>

<p>版本范围的目的是指定依赖项的哪些版本将对您的代码有效。</p>

<h4 id="a-classtoc-idtoc-comparators-hreftoc-comparatorsa">比较器 <a class="toc" id="toc-comparators" href="#toc-comparators"></a></h4>

<p>每个版本范围都是由<strong>比较器</strong>组成。这些比较器只是一个_运算符_，后面跟一个_版本号_。这里有一些基本的运算符：</p>

<table>
  <thead>
    <tr>
      <th>比较器</th>
      <th>描述</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">&lt;2.0.0</code></td>
      <td><strong><em>小于</em></strong> <code class="highlighter-rouge">2.0.0</code> 的任意版本</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&lt;=3.1.4</code></td>
      <td><strong><em>小于等于</em></strong> <code class="highlighter-rouge">3.1.4</code> 的任意版本</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&gt;0.4.2</code></td>
      <td><strong><em>大于</em></strong> <code class="highlighter-rouge">0.4.2</code> 的任意版本</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">&gt;=2.7.1</code></td>
      <td><strong><em>大于等于</em></strong> <code class="highlighter-rouge">2.7.1</code> 的任意版本</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">=4.6.6</code></td>
      <td><strong><em>等于</em></strong> <code class="highlighter-rouge">4.6.6</code> 版本</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>注意</strong>：如果没有指定任何运算符，默认的范围就是<code class="highlighter-rouge">=</code>。因此<code class="highlighter-rouge">=</code>运算符实际上是可选的</p>
</blockquote>

<h4 id="a-classtoc-idtoc-intersections-hreftoc-intersectionsa">交集 <a class="toc" id="toc-intersections" href="#toc-intersections"></a></h4>

<p>比较器可以通过空格连接以创建<strong>比较器集合</strong>。这将创建比较器集合的<strong>交集</strong>。例如比较器组<code class="highlighter-rouge">&gt;=2.0.0 &lt;3.1.4</code>表示_“大于或者等于 <code class="highlighter-rouge">2.0.0</code> 且<strong>小于</strong> <code class="highlighter-rouge">3.1.4</code>“_。</p>

<h4 id="a-classtoc-idtoc-unions-hreftoc-unionsa">并集 <a class="toc" id="toc-unions" href="#toc-unions"></a></h4>

<p>完整的版本范围可以包括通过<code class="highlighter-rouge">||</code>连接在一起的多个比较器集合的<strong>并集</strong>如果满足并集的任一侧，则满足整个版本范围。例如，版本范围<code class="highlighter-rouge">&lt;2.0.0 || &gt;3.1.4</code>表示_“小于 <code class="highlighter-rouge">2.0.0 **或者**大于 3.1.4</code>“_。</p>

<h4 id="a-classtoc-idtoc-pre-release-tags-hreftoc-pre-release-tagsa">预发布标签 <a class="toc" id="toc-pre-release-tags" href="#toc-pre-release-tags"></a></h4>

<p>版本也可以有<strong>预发布标签</strong>（例如：<code class="highlighter-rouge">3.1.4-beta.2</code>）。如果比较器包含了具有预发布标签的版本，则仅能匹配具有相同 <code class="highlighter-rouge">major.minor.patch</code> 的版本。</p>

<p>例如，范围<code class="highlighter-rouge">&gt;=3.1.4-beta.2</code> 将匹配 <code class="highlighter-rouge">3.1.4-beta.2</code> 或者 <code class="highlighter-rouge">3.1.4-beta.12</code>，但<em>不</em>匹配  <code class="highlighter-rouge">3.1.5-beta.1</code> 即便它在_技术上_“大于或者等于”（<code class="highlighter-rouge">&gt;=</code>）<code class="highlighter-rouge">3.1.4-beta.2</code> 版本。</p>

<p>预发布通常包含意外中断的更改，通常不希望匹配您指定的版本之外的预发布，因此这个行为很有用处。</p>

<h4 id="a-classtoc-idtoc-advanced-version-ranges-hreftoc-advanced-version-rangesa">高级版本范围 <a class="toc" id="toc-advanced-version-ranges" href="#toc-advanced-version-ranges"></a></h4>

<h5 id="a-classtoc-idtoc-hyphen-ranges-hreftoc-hyphen-rangesa">连字符范围 <a class="toc" id="toc-hyphen-ranges" href="#toc-hyphen-ranges"></a></h5>

<p>连字符范围（例如：<code class="highlighter-rouge">2.0.0 - 3.1.4</code>）指定了_包含_集。如果版本的一部分被省略（例如：<code class="highlighter-rouge">0.4</code> 或 <code class="highlighter-rouge">2</code>），则用零来填充。</p>

<table>
  <thead>
    <tr>
      <th>本范围</th>
      <th>扩展版本范围</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">2.0.0 - 3.1.4</code></td>
      <td><code class="highlighter-rouge">&gt;=2.0.0 &lt;=3.1.4</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">0.4 - 2</code></td>
      <td><code class="highlighter-rouge">&gt;=0.4.2 &lt;=2.0.0</code></td>
    </tr>
  </tbody>
</table>

<h5 id="x--a-classtoc-idtoc-x-ranges-hreftoc-x-rangesa">X-范围 <a class="toc" id="toc-x-ranges" href="#toc-x-ranges"></a></h5>

<p><code class="highlighter-rouge">X</code>、<code class="highlighter-rouge">x</code> 或 <code class="highlighter-rouge">*</code> 中的任何一个都可以用于保留未指定版本的部分或者全部。</p>

<table>
  <thead>
    <tr>
      <th>版本范围</th>
      <th>扩展版本范围</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">*</code></td>
      <td><code class="highlighter-rouge">&gt;=0.0.0</code>（任何版本）</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">2.x</code></td>
      <td><code class="highlighter-rouge">&gt;=2.0.0 &lt;3.0.0</code>（匹配major版本）</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">3.1.x</code></td>
      <td><code class="highlighter-rouge">&gt;=3.1.0 &lt;3.2.0</code>（匹配major和minor版本）</td>
    </tr>
  </tbody>
</table>

<p>如果省略版本的一部分，则默认使用 X- 范围。</p>

<p>| 版本范围      | 扩展版本范围      |
| —————— | ————————— |
| ` <code class="highlighter-rouge">（空字符串） | </code>*<code class="highlighter-rouge"> 或 </code>&gt;=0.0.0<code class="highlighter-rouge">            |
| </code>2<code class="highlighter-rouge">                | </code>2.x.x<code class="highlighter-rouge"> 或 </code>&gt;=2.0.0 &lt;3.0.0<code class="highlighter-rouge"> |
| </code>3.1<code class="highlighter-rouge">              | </code>3.1.x<code class="highlighter-rouge"> 或 </code>&gt;=3.1.0 &lt;3.2.0` |</p>

<h5 id="a-classtoc-idtoc-tilde-ranges-hreftoc-tilde-rangesa">波浪号范围 <a class="toc" id="toc-tilde-ranges" href="#toc-tilde-ranges"></a></h5>

<p>使用<code class="highlighter-rouge">~</code>与指定的次要版本允许 <code class="highlighter-rouge">patch</code> 更改。使用<code class="highlighter-rouge">~</code>仅指定主要版本将允许 <code class="highlighter-rouge">minor</code> 更改。</p>

<table>
  <thead>
    <tr>
      <th>版本范围</th>
      <th>扩展版本范围</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">~3.1.4</code></td>
      <td><code class="highlighter-rouge">&gt;=3.1.4 &lt;3.2.0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">~3.1</code></td>
      <td><code class="highlighter-rouge">3.1.x</code> 或 <code class="highlighter-rouge">&gt;=3.1.0 &lt;3.2.0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">~3</code></td>
      <td><code class="highlighter-rouge">3.x</code> 或 <code class="highlighter-rouge">&gt;=3.0.0 &lt;4.0.0</code></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>注意：</strong>在波浪号范围中指定预发布版本只会匹配同一完整版本中的预发布版本。例如，<code class="highlighter-rouge">~3.1.4-beta.2</code> 将与 <code class="highlighter-rouge">3.1.4-beta.4</code> 匹配，但不与 <code class="highlighter-rouge">3.1.5-beta.2</code> 匹配，因为 <code class="highlighter-rouge">major.minor.patch</code> 版本不同。</p>
</blockquote>

<h5 id="a-classtoc-idtoc-caret-ranges-hreftoc-caret-rangesa">插入符范围 <a class="toc" id="toc-caret-ranges" href="#toc-caret-ranges"></a></h5>

<p>版本中第一个非零数字的不允许更改，即 <code class="highlighter-rouge">3.1.4</code> 中的 <code class="highlighter-rouge">3</code> 或者 <code class="highlighter-rouge">0.4.2</code>中的 <code class="highlighter-rouge">4</code>。</p>

<p>Allow changes that do not modify the first non-zero digit in the version,
either the <code class="highlighter-rouge">3</code> in <code class="highlighter-rouge">3.1.4</code> or the <code class="highlighter-rouge">4</code> in <code class="highlighter-rouge">0.4.2</code>.</p>

<table>
  <thead>
    <tr>
      <th>版本范围</th>
      <th>扩展版本范围</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">^3.1.4</code></td>
      <td><code class="highlighter-rouge">&gt;=3.1.4 &lt;4.0.0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">^0.4.2</code></td>
      <td><code class="highlighter-rouge">&gt;=0.4.2 &lt;0.5.0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">^0.0.2</code></td>
      <td><code class="highlighter-rouge">&gt;=0.0.2 &lt;0.0.3</code></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><strong>注意：</strong> 默认情况下，当您运行 <code class="highlighter-rouge">yarn add [package-name]</code> 时，将使用^范围。</p>
</blockquote>

<p>如何省略了版本的一部分，则用零填充确实的部分。但是，它们仍然允许更改该值。</p>

<table>
  <thead>
    <tr>
      <th>版本范围</th>
      <th>扩展版本范围</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">^0.0.x</code></td>
      <td><code class="highlighter-rouge">&gt;=0.0.0 &lt;0.1.0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">^0.0</code></td>
      <td><code class="highlighter-rouge">&gt;=0.0.0 &lt;0.1.0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">^0.x</code></td>
      <td><code class="highlighter-rouge">&gt;=0.0.0 &lt;1.0.0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">^0</code></td>
      <td><code class="highlighter-rouge">&gt;=0.0.0 &lt;1.0.0</code></td>
    </tr>
  </tbody>
</table>

<h3 id="a-classtoc-idtoc-more-resources-hreftoc-more-resourcesa">更多资源 <a class="toc" id="toc-more-resources" href="#toc-more-resources"></a></h3>

<ul>
  <li>有关此版本控制系统如何工作的完整规范，请参见 
<a href="https://github.com/npm/node-semver"><code class="highlighter-rouge">node-semver</code> README</a>。</li>
  <li>使用 <a href="https://semver.npmjs.com/">npm semver 计算器</a>在实际包上测试版本控制系统。</li>
</ul>

    </div>

    <p class="guide-controls">
      
        <span class="pull-md-left">
          &larr;
          上一页:
          <a href="/zh-Hans/docs/dependency-types">依赖的类型</a>
        </span>
      

      
    </p>

    
  </div>

  <div class="col-md-4">
    <ul class="nav nav-stacked guide-nav">
      
        <li class="nav-item">
          
            <a class="nav-link" href="/zh-Hans/docs/dependencies">
              依赖和版本
            </a>
          
        </li>
      
        <li class="nav-item">
          
            <a class="nav-link" href="/zh-Hans/docs/dependency-types">
              依赖的类型
            </a>
          
        </li>
      
        <li class="nav-item">
          
            <a class="nav-link active">
              依赖的版本
            </a>
          
        </li>
      
    </ul>
  </div>
</div>

</div>

    









<hr class="feature-divider">

<div class="container">
  <footer class="footer">
    <div class="footer-left">
      <span class="footer-item">Yarn</span>
      <span class="footer-item"><a href="https://github.com/yarnpkg/yarn/blob/master/LICENSE">以 BSD 许可证分发</a></span>
      <span class="footer-item"><a href="/zh-Hans/org/code-of-conduct">行为准则</a></span>
    </div>

    <div class="footer-right">
      

      
        <span class="footer-item"><a href="/zh-Hans/org/translating">编辑此页</a></span>
      
    </div>

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script type="text/javascript" src="/js/docsearch.js"></script>
  </footer>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85522875-1', 'auto');
  ga('send', 'pageview');
</script>


    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js" integrity="sha256-/5pHDZh2fv1eZImyfiThtB5Ag4LqDjyittT7fLjdT/8=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/js/bootstrap.min.js" integrity="sha256-+h0g0j7qusP72OZaLPCSZ5wjZLnoUUicoxbvrl14WxM=" crossorigin="anonymous"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/holder/2.9.4/holder.min.js" integrity="sha256-ifihHN6L/pNU1ZQikrAb7CnyMBvisKG3SUAab0F3kVU=" crossorigin="anonymous"></script>

    
  </body>
</html>
